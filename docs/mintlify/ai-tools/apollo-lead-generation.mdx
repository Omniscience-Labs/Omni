---
title: "Apollo Lead Generation"
description: "Find and enrich lead data with Apollo.io's comprehensive B2B database"
icon: "user-search"
---

## Overview

The Apollo Lead Generation tool provides access to Apollo.io's extensive B2B database of over 275 million contacts at 73 million companies. Use it to find, match, and enrich lead data including contact information, employment history, and company details.

## Features

- **Person Matching**: Find individuals by name, company, email, or LinkedIn profile
- **Email Reveal**: Access verified business and personal email addresses
- **Phone Number Reveal**: Get direct dial phone numbers (async via webhook)
- **Employment History**: View complete professional background
- **Company Intelligence**: Access detailed organization information including funding, employee count, and industry data

## Setup

### 1. Get Your Apollo.io API Key

1. Sign up or log in to [Apollo.io](https://app.apollo.io)
2. Navigate to Settings → Integrations → API
3. Generate your API key
4. Copy the key for configuration

### 2. Configure Environment Variable

Add your Apollo API key to your environment configuration:

```bash
APOLLO_API_KEY=your_apollo_api_key_here
```

<Note>
The Apollo Lead Generation tool requires a direct Apollo.io API key (not RapidAPI). This is separate from the Apollo data provider which uses RapidAPI.
</Note>

### 3. Enable Data Providers Tool

Ensure the `data_providers_tool` is enabled in your agent configuration to access Apollo lead generation features.

## Usage

### Match a Lead

Use `apollo_match_lead` to find and retrieve detailed information about a person:

```xml
<function_calls>
<invoke name="apollo_match_lead">
<parameter name="first_name">Tim</parameter>
<parameter name="last_name">Zheng</parameter>
<parameter name="organization_name">Apollo</parameter>
<parameter name="domain">apollo.io</parameter>
</invoke>
</function_calls>
```

**Response includes**:
- Full name and title
- Current company and position
- Location (city, state, country)
- LinkedIn profile
- Email status (verified/unverified)
- Employment history timeline
- Organization details (size, funding, industry)

### Reveal Personal Email

To reveal personal email addresses, you must explicitly set `reveal_personal_emails=true`:

<Warning>
Revealing personal emails consumes Apollo credits. Always ask the user for explicit confirmation before enabling this feature.
</Warning>

```xml
<function_calls>
<invoke name="apollo_match_lead">
<parameter name="first_name">Tim</parameter>
<parameter name="last_name">Zheng</parameter>
<parameter name="organization_name">Apollo</parameter>
<parameter name="reveal_personal_emails">true</parameter>
</invoke>
</function_calls>
```

**Best Practice Flow**:
1. Agent: "I found Tim Zheng at Apollo. Would you like me to reveal their personal email address? (This will use Apollo credits)"
2. User confirms
3. Agent calls tool with `reveal_personal_emails=true`

### Reveal Phone Number

Phone number reveals are asynchronous and delivered via webhook:

```xml
<function_calls>
<invoke name="apollo_reveal_phone">
<parameter name="first_name">Tim</parameter>
<parameter name="last_name">Zheng</parameter>
<parameter name="organization_name">Apollo</parameter>
<parameter name="domain">apollo.io</parameter>
</invoke>
</function_calls>
```

**How it works**:
1. Tool creates a webhook request
2. Returns immediately with "pending" status
3. Apollo processes the request (typically 30-60 seconds)
4. Phone numbers are delivered to webhook endpoint
5. User receives notification with phone numbers

<Info>
Phone numbers are automatically injected into the conversation when they arrive. No additional action required.
</Info>

### Using LinkedIn for Better Matching

For more accurate matching, include the person's LinkedIn URL:

```xml
<function_calls>
<invoke name="apollo_match_lead">
<parameter name="first_name">Tim</parameter>
<parameter name="last_name">Zheng</parameter>
<parameter name="linkedin_url">http://www.linkedin.com/in/tim-zheng-677ba010</parameter>
<parameter name="reveal_personal_emails">true</parameter>
</invoke>
</function_calls>
```

## Parameters

### apollo_match_lead

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `first_name` | string | ✅ | Person's first name |
| `last_name` | string | ✅ | Person's last name |
| `organization_name` | string | ❌ | Company name (recommended) |
| `domain` | string | ❌ | Company domain (e.g., "apollo.io") |
| `email` | string | ❌ | Known email address |
| `linkedin_url` | string | ❌ | LinkedIn profile URL |
| `reveal_personal_emails` | boolean | ❌ | Reveal personal emails (default: false) |

### apollo_reveal_phone

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `first_name` | string | ✅ | Person's first name |
| `last_name` | string | ✅ | Person's last name |
| `organization_name` | string | ❌ | Company name (recommended) |
| `domain` | string | ❌ | Company domain |
| `email` | string | ❌ | Known email address |

## Webhook Configuration

Webhooks are automatically configured when you request phone number reveals. The system:

1. Generates a unique, secure webhook URL
2. Stores the request in the database
3. Provides the webhook URL to Apollo
4. Receives phone numbers asynchronously
5. Injects them into the conversation

**Webhook URL Format**:
```
{WEBHOOK_BASE_URL}/api/tools/apollo/webhook/{webhook_secret}
```

Set your `WEBHOOK_BASE_URL` environment variable (defaults to `http://localhost:8000`):
```bash
WEBHOOK_BASE_URL=https://yourdomain.com
```

## Best Practices

### User Consent

Always ask for explicit user consent before revealing contact information:

✅ **Good**:
```
"I found Sarah Johnson at TechCorp. Would you like me to:
1. Reveal her personal email? (uses Apollo credits)
2. Reveal her phone number? (uses Apollo credits, takes ~30-60 seconds)"
```

❌ **Bad**:
```
*Immediately reveals email without asking*
```

### Credit Management

- **Match without reveal**: Free or minimal credits
- **Email reveal**: Consumes credits per reveal
- **Phone reveal**: Consumes credits per reveal

Inform users about credit usage before revealing data.

### Matching Accuracy

Improve match accuracy by providing:
1. Organization name or domain
2. LinkedIn URL when available
3. Known email address

### Phone Reveal Expectations

- Set expectations: "This takes 30-60 seconds"
- Don't block on phone reveals - continue the conversation
- Notify user when phone numbers arrive

## Response Data

### Person Object

```json
{
  "person": {
    "id": "66b8a5d38d90c000011cce51",
    "first_name": "Tim",
    "last_name": "Zheng",
    "name": "Tim Zheng",
    "title": "Founder & CEO",
    "email": "tim@apollo.io",
    "email_status": "verified",
    "linkedin_url": "http://www.linkedin.com/in/tim-zheng-677ba010",
    "city": "San Francisco",
    "state": "California",
    "country": "United States",
    "employment_history": [
      {
        "title": "Founder & CEO",
        "organization_name": "Apollo",
        "start_date": "2016-01-01",
        "current": true
      }
    ],
    "organization": {
      "name": "Apollo.io",
      "estimated_num_employees": 1600,
      "industry": "information technology & services",
      "annual_revenue": 100000000,
      "founded_year": 2015,
      "city": "San Francisco",
      "website_url": "http://www.apollo.io"
    }
  }
}
```

## Troubleshooting

### API Key Not Configured

**Error**: "APOLLO_API_KEY not configured"

**Solution**: 
1. Add `APOLLO_API_KEY` to your environment variables
2. Restart your backend service
3. Verify the key is from Apollo.io (not RapidAPI)

### Person Not Found

**Error**: "Could not find person matching: [name]"

**Solutions**:
- Verify spelling of name
- Add company name or domain
- Try using LinkedIn URL
- Check if person exists in Apollo database

### Webhook Not Receiving Data

**Issues**:
- Webhook URL not publicly accessible
- Firewall blocking incoming requests
- Incorrect `WEBHOOK_BASE_URL` configuration

**Solutions**:
1. Ensure `WEBHOOK_BASE_URL` is set correctly
2. Use a public URL (not localhost) for production
3. Check firewall/security group settings
4. Verify webhook endpoint is accessible: `POST {WEBHOOK_BASE_URL}/api/tools/apollo/webhook/test`

### Rate Limits

If you hit rate limits:
- Space out requests
- Check your Apollo plan limits
- Consider upgrading your Apollo subscription

## Rate Limits & Quotas

Rate limits depend on your Apollo.io subscription plan:

- **Free**: Limited credits per month
- **Basic**: Increased credits and API rate limits
- **Professional**: Higher limits
- **Enterprise**: Custom limits

Check your current usage in the Apollo.io dashboard.

## Security & Privacy

- **Data Encryption**: All data is encrypted in transit and at rest
- **Webhook Security**: Unique secrets for each webhook request
- **Compliance**: Follow GDPR, CCPA, and other privacy regulations
- **User Consent**: Always obtain consent before revealing contact info
- **Credit Tracking**: Monitor credit usage to prevent unexpected charges

## Support

For issues or questions:
- Apollo.io API Documentation: https://apolloio.github.io/apollo-api-docs/
- Apollo.io Support: support@apollo.io
- Check API status: https://status.apollo.io/

## Related Tools

- **LinkedIn Data Provider**: RapidAPI-based LinkedIn scraping
- **Email Search Tool**: Alternative email finding services
- **CRM Integration**: Sync leads to your CRM

